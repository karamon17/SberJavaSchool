# Домашнее задание №4 Обработка исключений – Exception handling

## Задача 1
Реализовать интерфейс Terminal, c помощью которого можно:
- Проверить состояние счета
- Снять/ положить деньги

Доступ к терминалу (терминал для одного счета) предоставляется только после ввода корректного пин-кода (4 цифры). Каждое нажатие должно восприниматься системой как ввод очередного символа пин-кода. При вводе нецифрового символа система должна выдать предупреждение, но при этом данное действие не считается критичной ошибкой ввода и состояние системы должно восстановиться к последнему корректному состоянию.

При вводе 3 неправильных пин-кодов аккаунт блокируется на 10 сек (при попытке обратиться к нему в течение этого времени должно вызываться исключение AccountIsLockedException c информацией об оставшемся времени до снятия блокировки).

Класть и снимать деньги можно только, если сумма кратна 100.

Поскольку банкоматы, установленные на улице, сами «ничего не делают» с вашим счетом (они лишь делают проверку введенных данных и отправляют запросы на удаленный), то сервер (TerminalServer) может вызывать свои исключения, например, при недостатке средств на счете для совершения операции. 

класс терминал может содержать следующие поля:

      class TerminalImpl {
          private final TerminalServer server;
          private final PinValidator pinValidator; 
         ...
      }
Часть команд терминал делегирует этим классам.

Интерфейс терминала и список исключений остается на ваш дизайн. В каждом ексепшене должно быть описание, что нужно сделать, чтобы избежать его в дальнейшем.
TerminalServer и PinValidator могут кидать свои собственные исключения. Конечный пользователь не должен видеть эти исключения, ему должны показываться человеко-читабельные сообщения об ошибках
Логика по показу сообщений конечному пользователю и бизнес логика терминала с обработкой исключений должна быть в разных классах, чтобы можно было легко менять интрефейс вывода сообщений (на консоль, через графический интерфейс и т.д.)

## Задача 2
Реализуйте метод readContent(String url), который отображает на экран
содержимое сайта, ссылка на который задаётся параметром url.
Напишите программу, считывающую из консоли строку (URL ресурса) и вызывающую
метод readContent. В том случае, если введённый URL неправильного формата
или нет доступа до указанного ресурса, пользователю предлагается повторить ввод.

## Решения и пояснения
Обработка исключений в Java представляет собой механизм, позволяющий программистам элегантно управлять исключительными ситуациями, которые могут возникнуть в процессе выполнения программы. Исключения возникают, когда программа сталкивается с ошибкой или непредвиденными условиями, которые могут повлиять на её нормальное выполнение.

Основные концепции:

1. **Try-Catch блок:** Инструкция `try` определяет блок кода, в котором может произойти исключение, а `catch` — блок, который обрабатывает исключение. Если исключение произошло внутри блока `try`, управление передается соответствующему блоку `catch`.

   ```java
   try {
       // код, где может произойти исключение
   } catch (ExceptionType e) {
       // обработка исключения
   }
   ```

2. **Throws:** Иногда метод не обрабатывает исключение сам, а передает его вызывающему методу с помощью `throws`. Таким образом, вызывающий метод обязан обработать исключение или передать его выше.

   ```java
   void exampleMethod() throws SomeException {
       // код, где может произойти исключение
   }
   ```

3. **Finally:** Блок `finally` содержит код, который выполняется всегда, независимо от того, произошло исключение или нет. Этот блок часто используется для освобождения ресурсов (например, закрытия файла или сетевого соединения).

   ```java
   try {
       // код, где может произойти исключение
   } catch (ExceptionType e) {
       // обработка исключения
   } finally {
       // код, выполняющийся всегда
   }
   ```

4. **Создание пользовательских исключений:** В Java можно создавать собственные классы исключений, наследуя их от класса `Exception` или его подклассов. Это позволяет программистам создавать более информативные исключения для своих приложений.

   ```java
   class CustomException extends Exception {
       // ...
   }
   ```

Обработка исключений является важной частью разработки устойчивых и надежных приложений, позволяя программе корректно реагировать на ошибочные ситуации и предоставлять информацию о них.

### Checked и Unchecked исключения в Java

**Checked исключения (Checked Exceptions):**
1. **Определение:** Checked исключения – это исключения, которые компилятор Java обязывает обрабатывать в программе, т.е. программист должен предпринять меры для их обработки.
2. **Примеры:** IOException, SQLException, ClassNotFoundException и другие, которые наследуются от `Exception` (но не от `RuntimeException`).

   ```java
   try {
       // код, где может произойти checked исключение
   } catch (CheckedException e) {
       // обработка checked исключения
   }
   ```

3. **Цель:** Сделать программу более стойкой к ошибкам ввода-вывода, работе с базой данных и другими операциями, которые могут вызвать проблемы во время выполнения.

**Unchecked исключения (Unchecked Exceptions):**
1. **Определение:** Unchecked исключения – это исключения, которые компилятор Java не обязывает обрабатывать. Они обычно связаны с ошибками в программе, которые легче предотвратить на этапе разработки.
2. **Примеры:** NullPointerException, ArrayIndexOutOfBoundsException, ArithmeticException и другие, которые наследуются от `RuntimeException`.

   ```java
   // unchecked исключения могут быть обработаны, но это не является обязательным
   try {
       // код, где может произойти unchecked исключение
   } catch (UncheckedException e) {
       // обработка unchecked исключения (не обязательно)
   }
   ```

3. **Цель:** Предоставить гибкость в разработке, но при этом программист должен активно следить за кодом и предотвращать ошибки.

**Сравнение:**
- Checked исключения обязывают программиста предпринять меры для их обработки (используя блок `try-catch` или `throws`), что обеспечивает более строгий контроль над потенциальными проблемами.
- Unchecked исключения обычно возникают из-за ошибок в программе, и обработка их не обязательна, но может быть добавлена для улучшения стабильности программы.

Общий принцип заключается в том, что checked исключения представляют собой условия, которые программист может и должен предвидеть, в то время как unchecked исключения обычно указывают на ошибки в самом коде и могут быть предотвращены более внимательной разработкой.

### Задача 1
В методе main мы создаем объект класса Терминал с помощью конструктура с параметром, передаем в него строку "1234". Это пин-код доступа к данному терминалу.
Далее мы вызваем метод terminal.inputPinAndValidate(), который отвечает за получение от пользователя пин-кода и его валидацию. 
В случае ввода не цифрового символа печатается предупреждение и дается возможность ввести символ повторно. Если пользоватесь ввел верный пароль "1234", то открывается доступ к терминалу. 
При вводе 3 неправильных пин-кодов аккаунт блокируется на 10 сек (при попытке обратиться к нему в течение этого времени вызывается исключение AccountIsLockedException c информацией об оставшемся времени до снятия блокировки).

После успешного входа появляется возможность вызвать разные команды:
- проверить баланс
- внести деньги
- снять деньги
- закрыть программу

Если выбрать операцию ввода или снятия денег, то программа попросит ввести число. Далее в классе терминала это число проверяется на необходимые требования и в случае ошибки бросается исключение IllegalArgumentException.
Если число корректное, то передается запрос на сервер, у меня для этого есть класс TerminalServer и уже он выполняет необходимое действие с балансом. При снятии денег проверяет есть ли необходимая сумма на счете и если нет, то опять-таки бросается исключение IllegalArgumentException.

### Задача 2
WebContentReader представляет собой простой инструмент для чтения содержимого веб-ресурсов через ввод URL от пользователя. Программа использует стандартный ввод и вывод для взаимодействия с пользователем.
**Функциональность:**
- Ввод URL. Программа позволяет пользователю вводить URL веб-ресурса, который необходимо прочитать.
- Чтение содержимого. После ввода корректного URL программа устанавливает соединение с ресурсом и выводит содержимое сайта в консоль.
- Выход. Для завершения работы программы пользователь может ввести 'exit', что приведет к выходу из программы.

**Обработка ошибок:**
  В случае возникновения ошибок ввода-вывода или невозможности подключения к указанному ресурсу, программа выведет соответствующие сообщения об ошибке. Для этого используется IOException.
